---
sidebar_position: 1
---

# Common information

Параметрами запуска называется тот список параметров, который передается
нативным приложением Telegram приложению TWA. Он помогает разработчику узнать 
характеристики приложения Telegram, текущего устройства, получить 
базовую информацию о пользователе и многое другое.

## Способ передачи

Несложно догадаться, но в веб среде одним из самых простых и мгновенных 
способов передачи данных в локальной среде является указание их в адресной
строке приложения. Таким образом и вызываемый сервер и загружаемое приложение 
будут иметь какие-либо заранее известные данные. Собственно, этим же 
алгоритмом пользуется технология Telegram Web Apps. 

Нативное приложение Telegram передает список этих параметров в динамической 
части URL - хеше (`#`). Соответственно, для того, чтобы получить доступ к этим 
параметрам, необходимо из JavaScript-кода обратиться к 
свойству `window.location.hash`.

## Извлечение

Важно помнить про то, что `hash` является строковым свойством, в то время как
Telegram передаёт целый список свойств, после чего встаёт вопрос о
форматировании и обработке этого списка. На самом деле, всё достаточно просто.

Нативное приложение Telegram передает список параметров запуска как 
query-параметры и сохраняет получившуюся строку в `window.location.hash`. 
По этой причине, для того, чтобы извлечь параметры запуска, достаточно 
провести следующую операцию:

```typescript title="Пример извлечения параметров запуска"
const hash = window.location.hash.slice(1);
console.log(hash); // tgWebAppData=...&tgWebAppVersion=6.2&...

const params = new URLSearchParams(hash);
console.log(params.get('tgWebAppVersion')); // "6.2"
```

## Список параметров

В этом разделе представлен список параметров, отправляемых нативным приложением
Telegram приложению TWA.

### `tgWebAppVersion`

Текущая версия Telegram Web Apps, используемая нативным приложением. Этот
параметр важно использовать, например, перед вызовом 
[методов](../apps-communication/methods) для того, чтобы убедиться, что текущая
версия платформы поддерживает вызываемый метод.

### `tgWebAppData`

Параметры инициализации. Содержат информацию о текущем пользователе, подпись
параметров, а также некоторые другие полезные значения. Подробнее об
этом параметре можно прочитать в отдельной [секции](init-data/about).

Этот параметр передается как query-параметры, поэтому для того, чтобы
получить более удобное для использования значение, необходимо использовать
конструктор `URLSearchParams`:

```typescript title="Пример обработанного значения"
const initData = new URLSearchParams(params.get('tgWebAppData'));

// query_id: 'abcdef'
// user: `{id: 1, first_name: "Peris", last_name: "Hilton", username: "peris", language_code: "en", is_premium: true}`
// auth_date: '1669670292'
// hash: '4975e881a0347264512f6047e1f3d698cbd2fe0bc1573'
```

### `tgWebAppPlatform`

Идентификатор [платформы](../platforms), указывающий на тип текущего устройства.
Может использоваться как фактор, определяющий визуальный стиль приложения, 
например, когда в зависимости от устройства разработчику необходимо отображать
компоненты отличные визуально.

### `tgWebAppThemeParams`

Параметры [темы](../features/theme) нативного приложения Telegram. Этот 
параметр может быть использован для стилизации приложения ещё на моменте 
отрисовки загрузчика (лоадера).

Значением этого параметра является объект JSON, приведённый к строке. Для
получения более удобного для использования значения достаточно использовать
метод `JSON.parse`.

```typescript title="Пример обработанного значения"
const theme = {
  bg_color: '#212121',
  text_color: '#ffffff',
  hint_color: '#aaaaaa',
  link_color: '#8774e1',
  button_color: '#8774e1',
  button_text_color: '#ffffff',
  secondary_bg_color: '#0f0f0f',
};
```

:::tip

Параметры темы можно также получить через
отдельный [метод](../apps-communication/methods.mdx#web_app_request_theme).

:::

[//]: # (tgWebAppBotInline когда открываешь через кнопку клавиатуры)