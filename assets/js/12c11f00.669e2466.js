"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[736],{7522:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>f});var i=a(9901);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=i.createContext({}),d=function(e){var t=i.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=d(e.components);return i.createElement(l.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=d(a),m=n,f=p["".concat(l,".").concat(m)]||p[m]||u[m]||r;return a?i.createElement(f,o(o({ref:t},c),{},{components:a})):i.createElement(f,o({ref:t},c))}));function f(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:n,o[1]=s;for(var d=2;d<r;d++)o[d]=a[d];return i.createElement.apply(null,o)}return i.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5277:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>b,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var i=a(3223),n=(a(9901),a(7522));const r={sidebar_label:"@twa.js/init-data",sidebar_position:2},o="@twa.js/init-data",s={unversionedId:"libraries/twa-js-init-data",id:"libraries/twa-js-init-data",title:"@twa.js/init-data",description:"The package provides utilities to work with the initialization data of Telegram Web Apps on the client side. To learn more about the initialization data and its usage, please refer to the documentation.",source:"@site/docs/libraries/twa-js-init-data.mdx",sourceDirName:"libraries",slug:"/libraries/twa-js-init-data",permalink:"/docs/libraries/twa-js-init-data",draft:!1,editUrl:"https://github.com/twa-dev/docs/tree/master/docs/libraries/twa-js-init-data.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_label:"@twa.js/init-data",sidebar_position:2},sidebar:"sidebar",previous:{title:"@twa.js/bridge",permalink:"/docs/libraries/twa-js-bridge"},next:{title:"@twa.js/init-data-node",permalink:"/docs/libraries/twa-js-init-data-node"}},l={},d=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Parsing",id:"parsing",level:3},{value:"Validation",id:"validation",level:3}],c=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,n.kt)("div",t)},p=c("LibraryBadges"),u=c("NpmInstall"),m={toc:d},f="wrapper";function b(e){let{components:t,...a}=e;return(0,n.kt)(f,(0,i.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"twajsinit-data"},"@twa.js/init-data"),(0,n.kt)(p,{pkg:"@twa.js/init-data",mdxType:"LibraryBadges"}),(0,n.kt)("p",null,"The package provides utilities to work with the initialization data of Telegram Web Apps on the client side. To learn more about the initialization data and its usage, please refer to the ",(0,n.kt)("a",{parentName:"p",href:"/docs/launch-params/init-data"},"documentation"),"."),(0,n.kt)("h2",{id:"installation"},"Installation"),(0,n.kt)(u,{pkg:"@twa.js/init-data",mdxType:"NpmInstall"}),(0,n.kt)("h2",{id:"usage"},"Usage"),(0,n.kt)("h3",{id:"parsing"},"Parsing"),(0,n.kt)("p",null,"This library includes the function ",(0,n.kt)("inlineCode",{parentName:"p"},"initData"),", which can extract initialization data information from query parameters. Here is an example of its usage:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-typescript"},"import { initData } from '@twa.js/init-data';\n\n// Let's imagine, we have init data in a raw format like this. Web Apps are\n// sending it in the exact same format.\nconst initDataString =\n  'query_id=AAHdF6IQAAAAAN0XohDhrOrc' +\n  '&user=%7B%22id%22%3A279058397%2C%22first_name%22%3A%22Vladislav%22%2C%22last_name%22%3A%22Kibenko%22%2C%22username%22%3A%22vdkfrost%22%2C%22language_code%22%3A%22ru%22%2C%22is_premium%22%3Atrue%7D' +\n  '&auth_date=1662771648' +\n  '&hash=c501b71e775f74ce10e377dea85a7ea24ecd640b223ea86dfe453e0eaed2e2b2';\n\n// Extract init data.\nconsole.log(initData(initDataString));\n// or\nconsole.log(initData(new URLSearchParams(initDataString)));\n\n// Output:\n// {\n//   authDate: 2022-09-10T01:00:48.000Z,\n//   hash: 'c501b71e775f74ce10e377dea85a7ea24ecd640b223ea86dfe453e0eaed2e2b2',\n//   queryId: 'AAHdF6IQAAAAAN0XohDhrOrc',\n//   user: {\n//     id: 279058397,\n//     firstName: 'Vladislav',\n//     lastName: 'Kibenko',\n//     username: 'vdkfrost',\n//     languageCode: 'ru',\n//     isPremium: true\n//   }\n// }\n")),(0,n.kt)("p",null,"The function extracts the required parameters and automatically validates their types. If a property has an invalid type or value, it will throw an error."),(0,n.kt)("h3",{id:"validation"},"Validation"),(0,n.kt)("p",null,"We have moved the validation utilities to a separate ",(0,n.kt)("a",{parentName:"p",href:"/docs/libraries/twa-js-init-data-node"},"TypeScript package"),". These utilities are only needed on the server side, as there is no need to validate initialization data on the client side."))}b.isMDXComponent=!0}}]);